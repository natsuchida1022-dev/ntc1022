<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>0ã€œ2æ­³ è¦³å¯Ÿå‹MBTIè¨ºæ–­</title>
<style>
  :root{
    --bg:#fffaf4; --ink:#1f2a37; --muted:#5b6472;
    --card:#ffffff; --border:#f0f2f5; --shadow:0 6px 20px rgba(31,42,55,.08);
    --btn:#1f2a37; --btn-ink:#fff;
    --progress:#8b5cf6;
    --pill:#f7fafc; --pill-border:#e6eef7;
  }
  *{box-sizing:border-box}
  body{
    margin:0;color:var(--ink);background:
      radial-gradient(1200px 1200px at 10% -10%, #fff1e6 0%, rgba(255,241,230,0) 60%),
      radial-gradient(1200px 1200px at 110% 10%, #e7f8ff 0%, rgba(231,248,255,0) 60%),
      var(--bg);
    font-family:"Noto Sans JP", system-ui, -apple-system, "Hiragino Kaku Gothic ProN","Yu Gothic", sans-serif;
  }
  .wrap{max-width:820px;margin:0 auto;padding:18px}
  header{padding:6px 0 10px}
  h1{margin:0 0 6px;font-size:1.45rem;letter-spacing:.3px}
  .sub{color:var(--muted);font-size:.96rem}
  .card{background:var(--card);border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow);padding:16px}
  .pill{display:inline-flex;gap:6px;align-items:center;border-radius:999px;padding:6px 10px;background:var(--pill);border:1px solid var(--pill-border);font-size:.82rem;color:#3d4854}
  .badges{display:flex;gap:8px;flex-wrap:wrap;margin:6px 0 10px}
  .progress{height:12px;border-radius:999px;background:#eff3f7;overflow:hidden;border:1px solid #e8edf3}
  .bar{height:100%;width:0;background:var(--progress);transition:width .25s ease}
  .qno{color:var(--muted);font-size:.92rem}
  .question{font-size:1.12rem;margin:8px 0 14px;line-height:1.55}
  .row{display:flex;gap:12px}
  .col{flex:1}
  .btn{
    width:100%;padding:14px 16px;border-radius:14px;border:1px solid #e6ebf1;background:#fff;
    font-size:1.06rem;line-height:1.4;cursor:pointer;box-shadow:0 2px 10px rgba(0,0,0,.03)
  }
  .btn:hover{filter:brightness(0.98)}
  .btn:active{transform:translateY(1px)}
  .btn.primary{background:var(--btn);color:var(--btn-ink);border-color:var(--btn)}
  .cta{margin-top:14px;display:flex;gap:10px;flex-wrap:wrap}
  .center{display:flex;gap:8px;align-items:center;justify-content:center}
  .hint{background:#f9fbff;border:1px solid #e6f0ff;border-radius:14px;padding:12px}
  .small{font-size:.9rem;color:var(--muted)}
  .result-type{font-size:1.7rem;margin:8px 0}
  .type-pill{display:inline-block;border-radius:12px;padding:6px 10px;background:#eef6ff;border:1px solid #d9ecff;font-weight:700}
  .grid{display:grid;gap:10px}
  @media(min-width:640px){.grid{grid-template-columns:1fr 1fr}}
  footer{margin:18px 0 8px;color:var(--muted);font-size:.85rem}
  .ghost{opacity:.55}
  /* ã‚«ãƒ†ã‚´ãƒªã”ã¨ã®ã‚¢ã‚¯ã‚»ãƒ³ãƒˆï¼ˆEI/SN/FT/JPã§åˆ‡æ›¿ï¼‰ */
  .theme-ei{--progress:#ff9f6e; --btn:#ff7a3d}
  .theme-sn{--progress:#5dd4c6; --btn:#28bdb0}
  .theme-ft{--progress:#ff88b5; --btn:#ff5a94}
  .theme-jp{--progress:#7ea6ff; --btn:#4b82ff}
</style>
</head>
<body>
<div class="wrap">
  <header>
    <h1>ï¼ã€œï¼’æ­³ è¦³å¯Ÿå‹MBTIè¨ºæ–­</h1>
    <div class="sub">ä¿è­·è€…ãƒ»ä¿è‚²è€…å‘ã‘ã€‚ç›®ã®å‰ã®è¡Œå‹•ã‹ã‚‰A/Bã§é¸ã¶ã ã‘ï¼ˆ40å•ï¼‰</div>
  </header>

  <!-- TOP -->
  <section id="page-top" class="card">
    <div class="badges">
      <span class="pill">å¯¾è±¡ï¼š0â€“2æ­³</span>
      <span class="pill">ã‚¹ãƒãƒ›OK</span>
      <span class="pill">è‡ªå‹•åˆ¤å®š</span>
    </div>
    <p class="small" style="margin-top:6px">E/Iãƒ»S/Nãƒ»F/Tãƒ»J/P å„10å•ã€‚ã‚«ãƒ†ã‚´ãƒªã”ã¨ã«è‰²ãŒå¤‰ã‚ã£ã¦ç›´æ„Ÿçš„ï¼</p>
    <div class="cta">
      <button class="btn primary" id="startBtn">è¨ºæ–­ã‚’ã¯ã˜ã‚ã‚‹</button>
      <button class="btn" id="resumeBtn" title="å‰å›ã®ç¶šããŒã‚ã‚‹å ´åˆã®ã¿æœ‰åŠ¹">å‰å›ã®ç¶šãã‹ã‚‰</button>
    </div>
  </section>

  <!-- è³ªå• -->
  <section id="page-quiz" class="card theme-ei" style="display:none">
    <div class="qno" id="qIndex">è³ªå• 1 / 40</div>
    <div class="badges">
      <span class="pill" id="badgeCat">E / I</span>
      <span class="pill" id="badgeScene">å ´é¢</span>
    </div>
    <div class="progress"><div class="bar" id="bar"></div></div>
    <div class="question" id="qText">ã“ã“ã«è³ªå•</div>
    <div class="row">
      <button class="btn col" id="btnA">A</button>
      <button class="btn col" id="btnB">B</button>
    </div>
    <div class="cta">
      <button class="btn" id="backBtn">â—€ æˆ»ã‚‹</button>
      <button class="btn primary" id="skipBtn">ã‚¹ã‚­ãƒƒãƒ—</button>
    </div>
  </section>

  <!-- çµæœ -->
  <section id="page-result" class="card" style="display:none">
    <div class="qno">è¨ºæ–­çµæœ</div>
    <div class="result-type"><span class="type-pill" id="type4"></span></div>
    <div class="grid" style="margin-bottom:4px">
      <div><strong>E/I</strong>ï¼š<span id="scoreEI"></span></div>
      <div><strong>S/N</strong>ï¼š<span id="scoreSN"></span></div>
      <div><strong>F/T</strong>ï¼š<span id="scoreFT"></span></div>
      <div><strong>J/P</strong>ï¼š<span id="scoreJP"></span></div>
    </div>
    <div id="typeName" style="font-weight:700;margin:6px 0 6px"></div>
    <div id="typeOneLiner" class="small" style="margin-bottom:10px"></div>
    <div class="hint">
      <div style="font-weight:700;margin-bottom:6px">é–¢ã‚ã‚Šã®ãƒ’ãƒ³ãƒˆ</div>
      <div id="typeHint"></div>
    </div>
    <div class="cta" style="margin-top:14px">
      <button class="btn" id="retryBtn">ã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹</button>
      <button class="btn" id="seeAllBtn">ä»–ã‚¿ã‚¤ãƒ—ã®è§£èª¬ã‚’è¦‹ã‚‹</button>
    </div>
    <div class="small" style="margin-top:12px">
      â€» å­ã©ã‚‚ã®æ€§æ ¼ã¯ã¾ã ã¾ã æˆé•·ã®é€”ä¸­ã€‚ã‚¿ã‚¤ãƒ—ã¯å¤‰åŒ–ã™ã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚<br>
      ä»Šã®â€œã‚‰ã—ã•â€ã‚’çŸ¥ã‚‹ãƒ’ãƒ³ãƒˆã¨ã—ã¦ã€ã‚†ã£ãŸã‚Šè¦‹å®ˆã£ã¦ã„ãã¾ã—ã‚‡ã†ğŸŒ±
    </div>
  </section>

  <!-- 16ã‚¿ã‚¤ãƒ—è§£èª¬ -->
  <section id="page-all" class="card" style="display:none">
    <div class="qno">16ã‚¿ã‚¤ãƒ—è§£èª¬ï¼ˆ0ã€œ2æ­³å‘ã‘ï¼‰</div>
    <div id="typesGrid" class="grid"></div>
    <div class="cta">
      <button class="btn" id="backHomeBtn">ãƒˆãƒƒãƒ—ã¸æˆ»ã‚‹</button>
    </div>
  </section>

  <footer>Â© è¦³å¯Ÿå‹MBTI for 0â€“2æ­³</footer>
</div>

<script>
/* ---------- è¦³å¯Ÿã—ã‚„ã™ã„æ–°è³ªå•ã‚»ãƒƒãƒˆï¼ˆå„10å•ï¼‰ ---------- */
const QUESTIONS = [
  /* E/I */
  {cat:'EI', scene:'åœ’åº­ã«å‡ºãŸç›´å¾Œ', q:'Aï¼šã™ãã«å‘¨ã‚Šã¸æ­©ã„ã¦è¡Œãï¼ˆEï¼‰ / Bï¼šã—ã°ã‚‰ãå¤§äººã®ãã°ã§æ§˜å­ã‚’è¦‹ã‚‹ï¼ˆIï¼‰', Ais:'E', Bis:'I', A:'ã™ãæ­©ã„ã¦è¡Œãï¼ˆEï¼‰', B:'ãã°ã§æ§˜å­ã‚’è¦‹ã‚‹ï¼ˆIï¼‰'},
  {cat:'EI', scene:'åˆã‚ã¦ä¼šã†å¤§äºº', q:'Aï¼šè‡ªåˆ†ã‹ã‚‰è¿‘ã¥ãç¬‘é¡”ï¼ˆEï¼‰ / Bï¼šè‚©è¶Šã—ã«ã˜ã£ã¨è¦‹ã‚‹ï¼ˆIï¼‰', Ais:'E', Bis:'I', A:'è¿‘ã¥ãç¬‘é¡”ï¼ˆEï¼‰', B:'è‚©è¶Šã—ã«è¦³å¯Ÿï¼ˆIï¼‰'},
  {cat:'EI', scene:'ã«ãã‚„ã‹ãªéƒ¨å±‹', q:'Aï¼šéŸ³ã‚„å£°ã«å¼¾ã‚€åå¿œï¼ˆEï¼‰ / Bï¼šéŸ³ã®æ–¹ã‚’é™ã‹ã«è¦³å¯Ÿï¼ˆIï¼‰', Ais:'E', Bis:'I', A:'å¼¾ã‚€åå¿œï¼ˆEï¼‰', B:'é™ã‹ã«è¦³å¯Ÿï¼ˆIï¼‰'},
  {cat:'EI', scene:'ä»–å…ãŒç¬‘ã£ã¦ã„ã‚‹', q:'Aï¼šã™ãã«ã¤ã‚‰ã‚Œã¦ç¬‘ã†ï¼ˆEï¼‰ / Bï¼šè¡¨æƒ…ã‚’è¦‹ã¦ã‹ã‚‰å¾®ç¬‘ã‚€ï¼ˆIï¼‰', Ais:'E', Bis:'I', A:'ã¤ã‚‰ã‚Œã¦ç¬‘ã†ï¼ˆEï¼‰', B:'æ§˜å­è¦‹ã¦å¾®ç¬‘ã‚€ï¼ˆIï¼‰'},
  {cat:'EI', scene:'ãŠã‚‚ã¡ã‚ƒç™ºè¦‹', q:'Aï¼šèª°ã‹ã«è¦‹ã›ã«è¡Œãï¼ˆEï¼‰ / Bï¼šé»™ã€…ã¨è§¦ã£ã¦ç¢ºã‹ã‚ã‚‹ï¼ˆIï¼‰', Ais:'E', Bis:'I', A:'è¦‹ã›ã«è¡Œãï¼ˆEï¼‰', B:'é»™ã€…ã¨ç¢ºã‹ã‚ã‚‹ï¼ˆIï¼‰'},
  {cat:'EI', scene:'åå‰ã‚’å‘¼ã°ã‚Œã‚‹', q:'Aï¼šã™ãæŒ¯ã‚Šå‘ãè¿‘ã¥ãï¼ˆEï¼‰ / Bï¼šä¸€æ‹ãŠãè¦–ç·šã ã‘å‘ã‘ã‚‹ï¼ˆIï¼‰', Ais:'E', Bis:'I', A:'ã™ãè¿‘ã¥ãï¼ˆEï¼‰', B:'è¦–ç·šã ã‘å‘ã‘ã‚‹ï¼ˆIï¼‰'},
  {cat:'EI', scene:'æ–°ã—ã„å ´æ‰€', q:'Aï¼šç¯„å›²ã‚’åºƒã’æ¢ç´¢ï¼ˆEï¼‰ / Bï¼šå°ã•ãªç¯„å›²ã§ã‚†ã£ãã‚Šç¢ºèªï¼ˆIï¼‰', Ais:'E', Bis:'I', A:'åºƒãæ¢ç´¢ï¼ˆEï¼‰', B:'å°ã•ãç¢ºèªï¼ˆIï¼‰'},
  {cat:'EI', scene:'æ³¨ç›®ã•ã‚ŒãŸæ™‚', q:'Aï¼šå¾—æ„ãã†ã«åå¿œå¢—ï¼ˆEï¼‰ / Bï¼šè¦–ç·šã‚’å¤–ã™ãƒ»ä½“ã‚’å¼•ãï¼ˆIï¼‰', Ais:'E', Bis:'I', A:'åå¿œãŒå¢—ãˆã‚‹ï¼ˆEï¼‰', B:'è¦–ç·šå¤–ã™/å¼•ãï¼ˆIï¼‰'},
  {cat:'EI', scene:'çŸ¥ã‚‰ãªã„å­ãŒæ¥è¿‘', q:'Aï¼šå‰ã¸å‘ã‘é–¢ã‚ã‚‹ï¼ˆEï¼‰ / Bï¼šå¾Œã‚ã¸å¼•ãè·é›¢ã‚’ã¨ã‚‹ï¼ˆIï¼‰', Ais:'E', Bis:'I', A:'å‰å‘ãé–¢ã‚ã‚‹ï¼ˆEï¼‰', B:'è·é›¢ã‚’ã¨ã‚‹ï¼ˆIï¼‰'},
  {cat:'EI', scene:'ãŠè¿ãˆã®äººãŒå¢—ãˆãŸ', q:'Aï¼šäººã‹ã‚‰äººã¸ç§»ã‚Šé–¢ã‚ã‚‹ï¼ˆEï¼‰ / Bï¼šå®‰å¿ƒã§ãã‚‹å¤§äººã«å¼µã‚Šã¤ãï¼ˆIï¼‰', Ais:'E', Bis:'I', A:'æ¬¡ã€…é–¢ã‚ã‚‹ï¼ˆEï¼‰', B:'å®‰å¿ƒãªå¤§äººã¸ï¼ˆI')},

  /* S/N */
  {cat:'SN', scene:'ç©ã¿æœ¨', q:'Aï¼šåŒã˜å½¢ã‚’ã¾ã£ã™ãç©ã‚€ï¼ˆSï¼‰ / Bï¼šå‹•ç‰©ã‚„è»Šã«è¦‹ç«‹ã¦ã¦ä¸¦ã¹ã‚‹ï¼ˆNï¼‰', Ais:'S', Bis:'N', A:'ã¾ã£ã™ãç©ã‚€ï¼ˆSï¼‰', B:'è¦‹ç«‹ã¦ã¦ä¸¦ã¹ã‚‹ï¼ˆNï¼‰'},
  {cat:'SN', scene:'çµµæœ¬', q:'Aï¼šçµµã®ç‰©ã‚’æŒ‡ã•ã—ç¢ºèªï¼ˆSï¼‰ / Bï¼šå ´é¢ã®ã”ã£ã“å£°ã‚„è¡¨æƒ…ã‚’ä½œã‚‹ï¼ˆNï¼‰', Ais:'S', Bis:'N', A:'æŒ‡ã•ã—ç¢ºèªï¼ˆSï¼‰', B:'è¡¨æƒ…ãƒ»å£°ã§ã”ã£ã“ï¼ˆNï¼‰'},
  {cat:'SN', scene:'ã‚³ãƒƒãƒ—ã¨ã‚¹ãƒ—ãƒ¼ãƒ³', q:'Aï¼šå®Ÿç‰©ã©ãŠã‚Šã«ä½¿ã†ï¼ˆSï¼‰ / Bï¼šé›»è©±ãƒ»ãƒ‰ãƒ©ãƒ ãªã©åˆ¥ç‰©ã«è¦‹ç«‹ã¦ï¼ˆNï¼‰', Ais:'S', Bis:'N', A:'å®Ÿç‰©ã©ãŠã‚Šï¼ˆSï¼‰', B:'åˆ¥ç‰©ã«è¦‹ç«‹ã¦ï¼ˆNï¼‰'},
  {cat:'SN', scene:'ã„ãªã„ã„ãªã„ã°ã‚', q:'Aï¼šåŒã˜ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§æ¯å›å¤§å–œã³ï¼ˆSï¼‰ / Bï¼šã‚¿ã‚¤ãƒŸãƒ³ã‚°å¤‰ãˆã‚‹ã¨ã‚ˆã‚Šåå¿œï¼ˆNï¼‰', Ais:'S', Bis:'N', A:'åŒã˜ã§å–œã¶ï¼ˆSï¼‰', B:'å¤‰åŒ–ã§å–œã¶ï¼ˆNï¼‰'},
  {cat:'SN', scene:'é“ã§è»ŠãŒé€šã‚‹', q:'Aï¼šéŸ³ã‚„è‰²ãƒ»å¤§ãã•ã«æ³¨ç›®ï¼ˆSï¼‰ / Bï¼šé‹è»¢ã‚„è¡Œãå…ˆã‚’çœŸä¼¼ã—ã¦éŠã¶ï¼ˆNï¼‰', Ais:'S', Bis:'N', A:'éŸ³ã‚„è‰²ã¸æ³¨ç›®ï¼ˆSï¼‰', B:'é‹è»¢ã”ã£ã“ï¼ˆNï¼‰'},
  {cat:'SN', scene:'ãƒ–ãƒ­ãƒƒã‚¯ã®è‰²', q:'Aï¼šè‰²ã‚„å½¢ã®é•ã„ã«ã™ãæ°—ã¥ãï¼ˆSï¼‰ / Bï¼šè‰²ã‚’ã‚­ãƒ£ãƒ©ã«å½“ã¦ç‰©èªã«ã™ã‚‹ï¼ˆNï¼‰', Ais:'S', Bis:'N', A:'é•ã„ã«æ°—ã¥ãï¼ˆSï¼‰', B:'è‰²ã§ç‰©èªï¼ˆNï¼‰'},
  {cat:'SN', scene:'ã‚¯ãƒ¬ãƒ¨ãƒ³', q:'Aï¼šç·šãƒ»ç‚¹ã‚’ç¹°ã‚Šè¿”ã™ï¼ˆSï¼‰ / Bï¼šã€Œé›¨ã€ã€Œãã‚‹ã¾ã€ãªã©æ„å‘³ã¥ã‘ï¼ˆNï¼‰', Ais:'S', Bis:'N', A:'ç·šãƒ»ç‚¹ã‚’åå¾©ï¼ˆSï¼‰', B:'æ„å‘³ã¥ã‘æãï¼ˆNï¼‰'},
  {cat:'SN', scene:'éŸ³ã®ãªã‚‹ãŠã‚‚ã¡ã‚ƒ', q:'Aï¼šæŠ¼ã™â†’é³´ã‚‹ã®å› æœã‚’æ¥½ã—ã‚€ï¼ˆSï¼‰ / Bï¼šéŸ³ã«åˆã‚ã›è¸Šã‚‹ãƒ»å ´é¢ã‚’ä½œã‚‹ï¼ˆNï¼‰', Ais:'S', Bis:'N', A:'å› æœã‚’æ¥½ã—ã‚€ï¼ˆSï¼‰', B:'éŸ³ã§å ´é¢ã¥ãã‚Šï¼ˆNï¼‰'},
  {cat:'SN', scene:'ãŠã¾ã¾ã”ã¨', q:'Aï¼šè¦‹ãŸæ‰‹é †ã‚’ãã®ã¾ã¾å†ç¾ï¼ˆSï¼‰ / Bï¼šç©ºã®çš¿ã§ã‚‚ã€Œé£Ÿã¹ã‚‹ãµã‚Šã€ã‚’åºƒã’ã‚‹ï¼ˆNï¼‰', Ais:'S', Bis:'N', A:'æ‰‹é †ã‚’å†ç¾ï¼ˆSï¼‰', B:'ãµã‚Šã§åºƒã’ã‚‹ï¼ˆNï¼‰'},
  {cat:'SN', scene:'æ–°ã—ã„ãŠã‚‚ã¡ã‚ƒ', q:'Aï¼šã¾ãšè§¦ã£ã¦ç¢ºã‹ã‚ã‚‹ï¼ˆSï¼‰ / Bï¼šè§¦ã‚‹å‰ã«ä½¿ã„æ–¹ã‚’æƒ³åƒã—è©¦ã™ï¼ˆNï¼‰', Ais:'S', Bis:'N', A:'è§¦ã£ã¦ç¢ºã‹ã‚ã‚‹ï¼ˆSï¼‰', B:'æƒ³åƒã—ã¦è©¦ã™ï¼ˆN')},

  /* F/T */
  {cat:'FT', scene:'è¿‘ãã§æ³£ãå£°', q:'Aï¼šé¡”ã‚’æ›‡ã‚‰ã›è¿‘ã¥ããƒ»ãªã§ã‚‹ï¼ˆFï¼‰ / Bï¼šå‘¨ã‚Šã‚’è¦‹å›ã—å¤§äººã®æ–¹ã‚’è¦‹ã‚‹ï¼ˆTï¼‰', Ais:'F', Bis:'T', A:'å¯„ã‚Šæ·»ã„è¿‘ã¥ãï¼ˆFï¼‰', B:'å¤§äººã¸ã‚µã‚¤ãƒ³ï¼ˆTï¼‰'},
  {cat:'FT', scene:'å–ã‚Šåˆã„', q:'Aï¼šç›¸æ‰‹ã®æ§˜å­ã‚’æ°—ã«ã—ã¦å¼•ãï¼ˆFï¼‰ / Bï¼šå…ƒã®æŒã¡ä¸»ã‚„é †ç•ªã‚’ç¢ºèªï¼ˆTï¼‰', Ais:'F', Bis:'T', A:'ç›¸æ‰‹ã‚’æ°—ã«ã™ã‚‹ï¼ˆFï¼‰', B:'é †ç•ªã‚’ç¢ºèªï¼ˆTï¼‰'},
  {cat:'FT', scene:'æ³¨æ„ã•ã‚ŒãŸ', q:'Aï¼šã—ã‚‡ã‚“ã¼ã‚Šãƒ»æŠ±ã£ã“ã‚’æ±‚ã‚ã‚‹ï¼ˆFï¼‰ / Bï¼šä¸€ç¬åœæ­¢ã—ã¦è¡Œå‹•ã‚’å¤‰ãˆã‚‹ï¼ˆTï¼‰', Ais:'F', Bis:'T', A:'ã—ã‚‡ã‚“ã¼ã‚Šå¯„ã‚‹ï¼ˆFï¼‰', B:'è¡Œå‹•ã‚’å¤‰ãˆã‚‹ï¼ˆTï¼‰'},
  {cat:'FT', scene:'èª°ã‹ãŒè»¢ã‚“ã ', q:'Aï¼šè¦—ãè¾¼ã¿ãã°ã«åº§ã‚‹ï¼ˆFï¼‰ / Bï¼šãƒ†ã‚£ãƒƒã‚·ãƒ¥ã‚’å–ã‚‹ãƒ»å¤§äººã‚’æŒ‡ã•ã™ï¼ˆTï¼‰', Ais:'F', Bis:'T', A:'ãã°ã«åº§ã‚‹ï¼ˆFï¼‰', B:'å¯¾å‡¦ã¸å‹•ãï¼ˆTï¼‰'},
  {cat:'FT', scene:'å¤§äººã®å£°è‰²ãŒå¤‰ã‚ã‚‹', q:'Aï¼šè¡¨æƒ…ãŒå½±éŸ¿ã•ã‚Œã‚„ã™ã„ï¼ˆFï¼‰ / Bï¼šæŒ‡ç¤ºã®å†…å®¹ã«åå¿œï¼ˆTï¼‰', Ais:'F', Bis:'T', A:'å£°è‰²ã«å½±éŸ¿ï¼ˆFï¼‰', B:'å†…å®¹ã«åå¿œï¼ˆTï¼‰'},
  {cat:'FT', scene:'ã”ã£ã“éŠã³', q:'Aï¼šã€Œã‚ˆã—ã‚ˆã—ã€ã€Œã©ã†ã—ãŸã®ï¼Ÿã€ãŒå¤šã„ï¼ˆFï¼‰ / Bï¼šã€Œã“ã†ã‚„ã‚‹ã€ã€Œæ¬¡ã¯ã“ã‚Œã€ãŒå¤šã„ï¼ˆTï¼‰', Ais:'F', Bis:'T', A:'ã‚ˆã—ã‚ˆã—å¤šã„ï¼ˆFï¼‰', B:'æ‰‹é †å¤šã„ï¼ˆTï¼‰'},
  {cat:'FT', scene:'ç¬‘ã„ãŒèµ·ããŸ', q:'Aï¼šä¸€ç·’ã«ç¬‘ã„å…±æœ‰ã‚’å„ªå…ˆï¼ˆFï¼‰ / Bï¼šä½•ãŒèµ·ããŸã‹ç¢ºã‹ã‚ã‚‹ï¼ˆTï¼‰', Ais:'F', Bis:'T', A:'å…±æœ‰ã—ã¦ç¬‘ã†ï¼ˆFï¼‰', B:'ç†ç”±ã‚’ç¢ºã‹ã‚ã‚‹ï¼ˆTï¼‰'},
  {cat:'FT', scene:'é †ç•ªå¾…ã¡', q:'Aï¼šã€Œå¾…ã¤ã®ãŸã„ã¸ã‚“ã ã­ã€é¢¨ã®å¯„ã‚Šæ·»ã„ï¼ˆFï¼‰ / Bï¼šé †ç•ªã®åˆå›³ã‚„ç§©åºã«æ³¨ç›®ï¼ˆTï¼‰', Ais:'F', Bis:'T', A:'æ°—æŒã¡ã«å¯„ã‚Šæ·»ã†ï¼ˆFï¼‰', B:'ç§©åºã«æ³¨ç›®ï¼ˆTï¼‰'},
  {cat:'FT', scene:'ç©å…·ãŒå£Šã‚ŒãŸ', q:'Aï¼šå›°ã£ãŸè¡¨æƒ…ã§æ…°ã‚ã‚’æ±‚ã‚ã‚‹ï¼ˆFï¼‰ / Bï¼šåŸå› ã‚’è¦‹ã¦ç›´ãã†ã¨ã™ã‚‹ï¼ˆTï¼‰', Ais:'F', Bis:'T', A:'æ…°ã‚æ±‚ã‚ã‚‹ï¼ˆFï¼‰', B:'ç›´ãã†ã¨ã™ã‚‹ï¼ˆTï¼‰'},
  {cat:'FT', scene:'ã‚±ãƒ³ã‚«ã®ã‚ã¨', q:'Aï¼šãªã§ã‚‹ãƒ»æŠ±ãã¤ãç­‰ã®ä»²ç›´ã‚Šè¡Œå‹•ï¼ˆFï¼‰ / Bï¼šåŸå› ã‚„ãã£ã‹ã‘ã‚’æŒ‡ã•ã—ç¢ºèªï¼ˆTï¼‰', Ais:'F', Bis:'T', A:'ä»²ç›´ã‚Šè¡Œå‹•ï¼ˆFï¼‰', B:'åŸå› ã‚’ç¢ºèªï¼ˆT')},

  /* J/P */
  {cat:'JP', scene:'ãŠã‚„ã¤å‰', q:'Aï¼šå‘¼ã°ã‚Œã‚‹å‰ã‹ã‚‰å¸­ã¸å‘ã‹ã†ï¼ˆJï¼‰ / Bï¼šå£°ã‹ã‘ã§æ°—ã¥ãå¸­ã¸ï¼ˆPï¼‰', Ais:'J', Bis:'P', A:'è‡ªåˆ†ã§å¸­ã¸ï¼ˆJï¼‰', B:'å£°ã‹ã‘ã§å¸­ã¸ï¼ˆPï¼‰'},
  {cat:'JP', scene:'ã„ã¤ã‚‚ã®æ”¯åº¦', q:'Aï¼šæ±ºã¾ã£ãŸé †ç•ªã§é€²ã‚ã‚‹ï¼ˆJï¼‰ / Bï¼šæ°—ã«ãªã£ãŸç‰©ã‹ã‚‰æ‰‹ã‚’å‡ºã™ï¼ˆPï¼‰', Ais:'J', Bis:'P', A:'é †ç•ªã§é€²ã‚ã‚‹ï¼ˆJï¼‰', B:'æ°—ã«ãªã£ãŸç‰©ã‹ã‚‰ï¼ˆPï¼‰'},
  {cat:'JP', scene:'éŠã³ã®åˆ‡ã‚Šæ›¿ãˆ', q:'Aï¼šã€ŒãŠã—ã¾ã„ã€ã®åˆå›³ã§ç‰‡ã¥ã‘ï¼ˆJï¼‰ / Bï¼šã€Œã‚‚ã†ä¸€å›ï¼ã€ãŒç¶šãã‚„ã™ã„ï¼ˆPï¼‰', Ais:'J', Bis:'P', A:'åˆå›³ã§ç‰‡ã¥ã‘ï¼ˆJï¼‰', B:'ã‚‚ã†ä¸€å›ç¶šãï¼ˆPï¼‰'},
  {cat:'JP', scene:'ç½®ãå ´æ‰€', q:'Aï¼šå…ƒã®å ´æ‰€ã¸æˆ»ã™ï¼ˆJï¼‰ / Bï¼šè¿‘ãã«ãƒãƒ³ã¨ç½®ããŒã¡ï¼ˆPï¼‰', Ais:'J', Bis:'P', A:'å…ƒã®å ´æ‰€ã¸ï¼ˆJï¼‰', B:'è¿‘ãã«ç½®ãï¼ˆPï¼‰'},
  {cat:'JP', scene:'äºˆå®šå¤‰æ›´', q:'Aï¼šä¸å®‰ã’ãƒ»äºˆå‘Šã§è½ã¡ç€ãï¼ˆJï¼‰ / Bï¼šã™ãæ–°ã—ã„æ–¹ã¸ä¹—ã‚Šæ›ãˆã‚‹ï¼ˆPï¼‰', Ais:'J', Bis:'P', A:'äºˆå‘Šã§å®‰å¿ƒï¼ˆJï¼‰', B:'ã™ãä¹—ã‚Šæ›ãˆï¼ˆPï¼‰'},
  {cat:'JP', scene:'æ´»å‹•ä¸­ã®è¦–ç·š', q:'Aï¼šæ¬¡ã®å±•é–‹ã‚’ã¡ã‚‰ã¡ã‚‰ç¢ºèªï¼ˆJï¼‰ / Bï¼šç›®ã®å‰ã«å¤¢ä¸­ã§ç¶šã‘ã‚‹ï¼ˆPï¼‰', Ais:'J', Bis:'P', A:'æ¬¡ã‚’ç¢ºèªï¼ˆJï¼‰', B:'ç›®ã®å‰ã«å¤¢ä¸­ï¼ˆPï¼‰'},
  {cat:'JP', scene:'ç‰‡ã¥ã‘æŒ‡ç¤º', q:'Aï¼šåŒºåˆ‡ã£ã¦é †ã«é€²ã‚ã‚‹ã¨ã‚¹ãƒ ãƒ¼ã‚ºï¼ˆJï¼‰ / Bï¼šåˆå›³ã‚ˆã‚Šé¢ç™½ã•ã§å‹•ãï¼ˆPï¼‰', Ais:'J', Bis:'P', A:'åŒºåˆ‡ã‚‹ã¨é€²ã‚€ï¼ˆJï¼‰', B:'é¢ç™½ã•å„ªå…ˆï¼ˆPï¼‰'},
  {cat:'JP', scene:'æ–°ã—ã„éŠã³', q:'Aï¼šã‚„ã‚Šæ–¹ã‚’è¦‹ã¦ã‹ã‚‰å–ã‚Šçµ„ã‚€ï¼ˆJï¼‰ / Bï¼šè§¦ã‚ŠãªãŒã‚‰è¦šãˆã‚‹ï¼ˆPï¼‰', Ais:'J', Bis:'P', A:'è¦‹ã¦ã‹ã‚‰ï¼ˆJï¼‰', B:'è§¦ã‚ŠãªãŒã‚‰ï¼ˆPï¼‰'},
  {cat:'JP', scene:'æœã®æµã‚Œ', q:'Aï¼šæ±ºã¾ã£ãŸãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã§å®‰å¿ƒï¼ˆJï¼‰ / Bï¼šãã®æ—¥ã®æ°—åˆ†ã§å¤‰ã‚ã‚‹ï¼ˆPï¼‰', Ais:'J', Bis:'P', A:'ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³å®‰å¿ƒï¼ˆJï¼‰', B:'æ°—åˆ†ã§å¤‰ã‚ã‚‹ï¼ˆPï¼‰'},
  {cat:'JP', scene:'ä¿è‚²å®¤ã®å‡ºå…¥ã‚Š', q:'Aï¼šé´ãƒ»è·ç‰©ã®é †ç•ªãŒæ•´ã†ã¨å‹•ãã‚„ã™ã„ï¼ˆJï¼‰ / Bï¼šæ°—ã¥ã„ãŸé †ã«å‹•ãå‡ºã™ï¼ˆPï¼‰', Ais:'J', Bis:'P', A:'æ•´ã†ã¨å‹•ã‘ã‚‹ï¼ˆJï¼‰', B:'æ°—ã¥ã„ãŸé †ã«å‹•ãï¼ˆP')}
];

/* 16ã‚¿ã‚¤ãƒ—ã®çŸ­ã„è§£èª¬ */
const TYPE_TEXT = {
  ENFP:{name:'ã‚ãã‚ãå¥½å¥‡å¿ƒã‚¿ã‚¤ãƒ—', one:'ã€Œã‚„ã£ã¦ã¿ãŸã„ï¼ã€ã®èŠ½ãŒã„ã£ã±ã„ã€‚', hint:'å¦å®šã›ãšå…±æ„Ÿã—ã€è‡ªç”±ãªç™ºè¦‹ã‚’å¿œæ´ã€‚'},
  ENFJ:{name:'æ€ã„ã‚„ã‚Šãƒªãƒ¼ãƒ€ãƒ¼ã‚¿ã‚¤ãƒ—', one:'å‘¨ã‚Šã‚’ç¬‘é¡”ã«ã™ã‚‹ã‚„ã•ã—ã•ã€‚', hint:'ã€Œã†ã‚Œã—ã„ã­ã€ã€Œã‚ã‚ŠãŒã¨ã†ã€ã¨æ°—æŒã¡ã‚’è¨€è‘‰ã«ã€‚'},
  INFJ:{name:'å¿ƒã§å¯„ã‚Šãã†ã‚¿ã‚¤ãƒ—', one:'é™ã‹ã«äººã®æ°—æŒã¡ã‚’æ„Ÿã˜å–ã‚‹ç¹Šç´°ã•ã‚“ã€‚', hint:'ç©ã‚„ã‹ãªæ™‚é–“ã¨å®‰å¿ƒã§ãã‚‹æŠ±ã£ã“ã‚’ã€‚'},
  INFP:{name:'å¤¢è¦‹ãŒã¡ãªæ€ã„ã‚„ã‚Šã‚¿ã‚¤ãƒ—', one:'ãƒã‚¤ãƒšãƒ¼ã‚¹ã§ç©ºæƒ³ã‚‚å¤§å¥½ãã€‚', hint:'æ°—æŒã¡ã‚’å—ã‘æ­¢ã‚ã‚‹ã ã‘ã§èŠ±ãŒå’²ãğŸŒ·'},
  ENTP:{name:'ã‚¢ã‚¤ãƒ‡ã‚¢ç™ºæ˜ã‚¿ã‚¤ãƒ—', one:'è§¦ã£ã¦ç¢ºã‹ã‚ã‚‹ã€ã²ã‚‰ã‚ãã®å¤©æ‰ã€‚', hint:'ã€Œã‚„ã£ã¦ã¿ã‚ˆã†ï¼ã€ã¨æ¢æ±‚ã‚’ä¸€ç·’ã«ã€‚'},
  ENTJ:{name:'è¡Œå‹•ãƒªãƒ¼ãƒ€ãƒ¼ã‚¿ã‚¤ãƒ—', one:'ã€Œã“ã†ã—ãŸã„ï¼ã€ãŒã¯ã£ãã‚Šã€è¡Œå‹•ã‚‚æ—©ã„ã€‚', hint:'ã€Œã©ã†ã—ãŸã„ï¼Ÿã€ã¨æ„æ€ã‚’å¼•ãå‡ºã™ã€‚'},
  INTJ:{name:'é™ã‹ãªã‚‹è¨ˆç”»ã‚¿ã‚¤ãƒ—', one:'ã˜ã£ãã‚Šè¦³å¯Ÿã™ã‚‹å°ã•ãªæˆ¦ç•¥å®¶ã€‚', hint:'æ€¥ã‹ã•ãšè¦‹å®ˆã‚‹æ™‚é–“ãŒã‚«ã‚®ã€‚'},
  INTP:{name:'è€ƒãˆã‚‹ç ”ç©¶ã‚¿ã‚¤ãƒ—', one:'ç‰©ã®ä»•çµ„ã¿ã«èˆˆå‘³æ´¥ã€…ã€‚', hint:'è©±ã—ã‹ã‘ã™ããšã€é›†ä¸­ã‚’ãã£ã¨æ”¯ãˆã‚‹ã€‚'},
  ESFP:{name:'ã”ãã’ã‚“ãƒ ãƒ¼ãƒ‰ãƒ¡ãƒ¼ã‚«ãƒ¼', one:'æ˜ã‚‹ããƒãƒªã‚ˆãã€ã¿ã‚“ãªã‚’ç¬‘é¡”ã«ã€‚', hint:'ä¸€ç·’ã«ç¬‘ã£ã¦æ¥½ã—ã‚€æ™‚é–“ãŒæ „é¤Šã€‚'},
  ESTP:{name:'ã‚„ã£ã¦ã¿ãŸã„ãƒãƒ£ãƒ¬ãƒ³ã‚¸ãƒ£ãƒ¼', one:'ä½“ã§è¦šãˆã‚‹ã‚¹ãƒ”ãƒ¼ãƒ‰æ´¾ã€‚', hint:'ã€Œå±ãªã„ï¼ã€ã‚ˆã‚Šã€Œã©ã†ã—ãŸã‚‰å®‰å…¨ï¼Ÿã€ã§å°ãã€‚'},
  ISFP:{name:'ã‚„ã•ã—ã„æ„Ÿæ€§ã‚¿ã‚¤ãƒ—', one:'ç©ã‚„ã‹ã§æ„Ÿå—æ€§è±Šã‹ã€‚', hint:'ç„¡ç†ã«é–¢ã‚ã‚‰ãšã€å¯„ã‚Šæ·»ã†æ™‚é–“ã‚’ã€‚'},
  ISFJ:{name:'ãŠã ã‚„ã‹ã‚µãƒãƒ¼ãƒˆã‚¿ã‚¤ãƒ—', one:'ç©ºæ°—ã‚’æ„Ÿã˜å–ã‚‹æ€ã„ã‚„ã‚Šã®å­ã€‚', hint:'ã€Œè¦‹ã¦ãŸã‚ˆã€ã€Œã‚ã‚ŠãŒã¨ã†ã€ã§å®‰å¿ƒæ„Ÿã€‚'},
  ESTJ:{name:'ãã£ã¡ã‚Šå®‰å¿ƒã‚¿ã‚¤ãƒ—', one:'é †ç•ªãƒ»ãƒ«ãƒ¼ãƒ«ã§è½ã¡ç€ãã€‚', hint:'äºˆå‘Šã¨è¦‹é€šã—ã§å®‰å¿ƒã®ãƒªã‚ºãƒ ã‚’ã€‚'},
  ESFJ:{name:'ãŠä¸–è©±å¥½ãã‚¿ã‚¤ãƒ—', one:'ã¿ã‚“ãªã¨ä¸€ç·’ãŒã†ã‚Œã—ã„ã€‚', hint:'ã€ŒåŠ©ã‘ã¦ãã‚Œã¦ã†ã‚Œã—ã„ã€ã¨æ„Ÿè¬ã‚’ä¼ãˆã‚‹ã€‚'},
  ISTJ:{name:'ã¦ã„ã­ã„æ•´ç†ã‚¿ã‚¤ãƒ—', one:'æ±ºã¾ã£ãŸé †ç•ªã¨ãã£ã¡ã‚ŠãŒå¥½ãã€‚', hint:'çªç„¶ã®å¤‰åŒ–ã‚ˆã‚Šã€äºˆå‘Šã‚’å¤§åˆ‡ã«ã€‚'},
  ISTP:{name:'é™ã‹ãªæ¢æ¤œã‚¿ã‚¤ãƒ—', one:'ç„¡è¨€ã§è¦³å¯Ÿã€ç´å¾—ã—ãŸã‚‰å³è¡Œå‹•ã€‚', hint:'é‚ªé­”ã›ãšè¦‹å®ˆã‚Šã€ã§ããŸç¬é–“ã‚’è¤’ã‚ã‚‹ã€‚'},
};

/* UIå‚ç…§ */
const $ = sel => document.querySelector(sel);
const els = {
  top: $('#page-top'),
  quiz: $('#page-quiz'),
  result: $('#page-result'),
  all: $('#page-all'),
  startBtn: $('#startBtn'),
  resumeBtn: $('#resumeBtn'),
  backHomeBtn: $('#backHomeBtn'),
  retryBtn: $('#retryBtn'),
  seeAllBtn: $('#seeAllBtn'),
  qIndex: $('#qIndex'),
  badgeCat: $('#badgeCat'),
  badgeScene: $('#badgeScene'),
  qText: $('#qText'),
  btnA: $('#btnA'),
  btnB: $('#btnB'),
  backBtn: $('#backBtn'),
  skipBtn: $('#skipBtn'),
  bar: $('#bar'),
  type4: $('#type4'),
  scoreEI: $('#scoreEI'),
  scoreSN: $('#scoreSN'),
  scoreFT: $('#scoreFT'),
  scoreJP: $('#scoreJP'),
  typeName: $('#typeName'),
  typeOneLiner: $('#typeOneLiner'),
  typeHint: $('#typeHint'),
  typesGrid: $('#typesGrid'),
};
const TOTAL = QUESTIONS.length;
let idx = 0;
let answers = Array(TOTAL).fill(null);
let scores = {E:0,I:0,S:0,N:0,F:0,T:0,J:0,P:0};

function saveState(){ localStorage.setItem('mbti02_state', JSON.stringify({idx,answers,scores})); }
function loadState(){
  const raw = localStorage.getItem('mbti02_state'); if(!raw) return false;
  try{ const s=JSON.parse(raw); idx=s.idx??0; answers=s.answers??answers; scores=s.scores??scores; return true; }catch(e){ return false; }
}
function resetAll(){ idx=0; answers=Array(TOTAL).fill(null); scores={E:0,I:0,S:0,N:0,F:0,T:0,J:0,P:0}; saveState(); }
function show(page){
  els.top.style.display = (page==='top')?'block':'none';
  els.quiz.style.display = (page==='quiz')?'block':'none';
  els.result.style.display = (page==='result')?'block':'none';
  els.all.style.display = (page==='all')?'block':'none';
}
function start(){ resetAll(); show('quiz'); renderQuestion(); }
function resume(){ if(loadState()){ show('quiz'); renderQuestion(); } else { alert('å‰å›ã®ç¶šãã¯ã‚ã‚Šã¾ã›ã‚“ã€‚'); start(); }}

/* ã‚«ãƒ†ã‚´ãƒªè‰²åˆ‡æ›¿ */
function applyTheme(cat){
  els.quiz.classList.remove('theme-ei','theme-sn','theme-ft','theme-jp');
  if(cat==='EI') els.quiz.classList.add('theme-ei');
  if(cat==='SN') els.quiz.classList.add('theme-sn');
  if(cat==='FT') els.quiz.classList.add('theme-ft');
  if(cat==='JP') els.quiz.classList.add('theme-jp');
}

/* å‡ºé¡Œè¡¨ç¤º */
function renderQuestion(){
  const q = QUESTIONS[idx];
  els.qIndex.textContent = `è³ªå• ${idx+1} / ${TOTAL}`;
  els.badgeCat.textContent = labelCat(q.cat);
  els.badgeScene.textContent = `å ´é¢ï¼š${q.scene}`;
  els.qText.textContent = q.q;
  els.btnA.textContent = 'Aã€€' + (q.A ?? '');
  els.btnB.textContent = 'Bã€€' + (q.B ?? '');
  const pct = Math.round(idx/TOTAL*100); els.bar.style.width = pct + '%';
  applyTheme(q.cat);
  saveState();
}
function labelCat(cat){ return ({EI:'E / I',SN:'S / N',FT:'F / T',JP:'J / P'})[cat] || cat; }

/* æ¡ç‚¹ */
function applyScore(q, choice){
  const prev = answers[idx];
  if(prev==='A'){ scores[q.Ais] = Math.max(0, scores[q.Ais]-1); }
  if(prev==='B'){ scores[q.Bis] = Math.max(0, scores[q.Bis]-1); }
  answers[idx] = choice;
  if(choice==='A') scores[q.Ais] += 1;
  if(choice==='B') scores[q.Bis] += 1;
}
function next(){ if(idx<TOTAL-1){ idx++; renderQuestion(); } else { showResult(); } }
function back(){ if(idx>0){ idx--; renderQuestion(); } }
function skip(){ answers[idx]='-'; next(); }

/* çµæœ */
function showResult(){
  const EI = scores.E >= scores.I ? 'E' : 'I';
  const SN = scores.S >= scores.N ? 'S' : 'N';
  const FT = scores.F >= scores.T ? 'F' : 'T';
  const JP = scores.J >= scores.P ? 'J' : 'P';
  const type = EI+SN+FT+JP;
  els.type4.textContent = type;
  els.scoreEI.textContent = `E ${scores.E} : I ${scores.I}`;
  els.scoreSN.textContent = `S ${scores.S} : N ${scores.N}`;
  els.scoreFT.textContent = `F ${scores.F} : T ${scores.T}`;
  els.scoreJP.textContent = `J ${scores.J} : P ${scores.P}`;
  const t = TYPE_TEXT[type];
  if(t){ els.typeName.textContent = `${t.name}ï¼ˆ${type}ï¼‰`; els.typeOneLiner.textContent = t.one; els.typeHint.textContent = t.hint; }
  else{ els.typeName.textContent = `ï¼ˆ${type}ï¼‰`; els.typeOneLiner.textContent='ã©ã¡ã‚‰ã®å‚¾å‘ã‚‚ã‚ã‚Šã¾ã™ã€‚ç™ºé”ã®é€”ä¸­ã‹ã‚‚ğŸŒ±'; els.typeHint.textContent='æ—¥ã€…ã®è¦³å¯Ÿã‚’ç¶šã‘ã€å®‰å¿ƒã®ãƒªã‚ºãƒ ã¨é¸æŠè‚¢ã‚’ç”¨æ„ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚'; }
  show('result'); saveState();
}

/* 16ã‚¿ã‚¤ãƒ—ä¸€è¦§ */
function renderAllTypes(){
  const frag = document.createDocumentFragment();
  Object.entries(TYPE_TEXT).forEach(([k,v])=>{
    const div = document.createElement('div');
    div.className = 'hint';
    div.innerHTML = `<div style="font-weight:700;margin-bottom:4px">${k}ï¼š${v.name}</div>
      <div class="small" style="margin-bottom:6px">${v.one}</div>
      <div>${v.hint}</div>`;
    frag.appendChild(div);
  });
  els.typesGrid.innerHTML=''; els.typesGrid.appendChild(frag);
}

/* ã‚¤ãƒ™ãƒ³ãƒˆ */
els.startBtn.addEventListener('click', start);
els.resumeBtn.addEventListener('click', resume);
els.backHomeBtn.addEventListener('click', ()=>show('top'));
els.retryBtn.addEventListener('click', start);
els.seeAllBtn.addEventListener('click', ()=>{ renderAllTypes(); show('all'); });
els.btnA.addEventListener('click', ()=>{ const q=QUESTIONS[idx]; applyScore(q,'A'); next(); });
els.btnB.addEventListener('click', ()=>{ const q=QUESTIONS[idx]; applyScore(q,'B'); next(); });
els.backBtn.addEventListener('click', back);
els.skipBtn.addEventListener('click', skip);

/* åˆæœŸåŒ– */
(function init(){
  if(!localStorage.getItem('mbti02_state')) els.resumeBtn.classList.add('ghost');
})();
</script>
</body>
</html>
